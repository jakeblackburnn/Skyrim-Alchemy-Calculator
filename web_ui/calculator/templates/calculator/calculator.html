{% extends "calculator/base.html" %}

{% block content %}
<div class="calculator-layout">
    <!-- Left Column: Player Stats & Inventory -->
    <div class="input-section">
        <h2 class="section-title">Player Configuration</h2>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #666666; margin-bottom: 15px;">Player Stats</h3>

            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">Alchemy Skill Level</label>
                <input type="range" id="skill-level" min="0" max="100" value="50" style="width: 100%;" oninput="document.getElementById('skill-value').textContent = this.value">
                <span id="skill-value" style="color: #999999;">50</span>
            </div>

            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">Fortify Alchemy %</label>
                <input type="range" id="fortify-alchemy" min="0" max="200" value="0" style="width: 100%;" oninput="document.getElementById('fortify-value').textContent = this.value + '%'">
                <span id="fortify-value" style="color: #999999;">0%</span>
            </div>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #666666; margin-bottom: 15px;">Perks</h3>

            <div style="display: flex; flex-direction: column; gap: 8px;">
                <label style="cursor: pointer;">
                    <span style="display: inline-block; width: 180px;">Alchemist Rank (0-5):</span>
                    <input type="number" id="alchemist-rank" min="0" max="5" value="0" style="width: 60px; background-color: #ffffff; color: #2c2c2c; border: 1px solid #ccc9bf; padding: 4px; border-radius: 3px;">
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-physician"> Physician
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-benefactor"> Benefactor
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-poisoner"> Poisoner
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-purity"> Purity
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-seeker"> Seeker of Shadows
                </label>
            </div>
        </div>

        <div>
            <h3 style="color: #666666; margin-bottom: 15px;">Ingredient Inventory</h3>

            <div style="display: flex; flex-direction: column; gap: 8px; max-height: 300px; overflow-y: auto;">
                {% for ingredient in ingredients %}
                <label style="cursor: pointer;">
                    <input type="checkbox" class="ingredient-check" value="{{ ingredient.name }}"> {{ ingredient.name }}
                </label>
                {% endfor %}
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a id="calculate-btn" style="
                color: #50c9a5;
                font-size: 1.2em;
                text-decoration: underline;
                cursor: pointer;
                transition: color 0.2s ease;
            " onmouseover="if(!this.classList.contains('disabled')) this.style.color='#f5c542'" onmouseout="if(!this.classList.contains('disabled')) this.style.color='#50c9a5'">
                Calculate Potions
            </a>
        </div>
    </div>

    <!-- Right Column: Results -->
    <div class="results-section">
        <h2 class="section-title">Potions (Sorted by Value)</h2>

        <div class="results-content" id="results-container">
            <div style="color: #666666; text-align: center; padding: 40px;">
                <p>Configure your player stats and inventory, then click "Calculate Potions" to see results.</p>
            </div>
        </div>
    </div>
</div>

{% load static %}
<script src="{% static 'calculator/js/calculator.js' %}"></script>
{% endblock %}
