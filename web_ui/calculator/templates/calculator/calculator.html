{% extends "calculator/base.html" %}

{% block content %}
<div class="calculator-layout">
    <!-- Left Column: Player Stats & Inventory -->
    <div class="input-section">
        <h2 class="section-title">Player Configuration</h2>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #b0b0b0; margin-bottom: 15px;">Player Stats</h3>

            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">Alchemy Skill Level</label>
                <input type="range" id="skill-level" min="0" max="100" value="50" style="width: 100%;" oninput="document.getElementById('skill-value').textContent = this.value">
                <span id="skill-value" style="color: #888;">50</span>
            </div>

            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">Fortify Alchemy %</label>
                <input type="range" id="fortify-alchemy" min="0" max="200" value="0" style="width: 100%;" oninput="document.getElementById('fortify-value').textContent = this.value + '%'">
                <span id="fortify-value" style="color: #888;">0%</span>
            </div>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #b0b0b0; margin-bottom: 15px;">Perks</h3>

            <div style="display: flex; flex-direction: column; gap: 8px;">
                <label style="cursor: pointer;">
                    <span style="display: inline-block; width: 180px;">Alchemist Rank (0-5):</span>
                    <input type="number" id="alchemist-rank" min="0" max="5" value="0" style="width: 60px; background-color: #2d2d2d; color: #e0e0e0; border: 1px solid #555; padding: 4px; border-radius: 3px;">
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-physician"> Physician
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-benefactor"> Benefactor
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-poisoner"> Poisoner
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-purity"> Purity
                </label>
                <label style="cursor: pointer;">
                    <input type="checkbox" id="perk-seeker"> Seeker of Shadows
                </label>
            </div>
        </div>

        <div>
            <h3 style="color: #b0b0b0; margin-bottom: 15px;">Ingredient Inventory</h3>

            <div style="display: flex; flex-direction: column; gap: 8px; max-height: 300px; overflow-y: auto;">
                {% for ingredient in ingredients %}
                <label style="cursor: pointer;">
                    <input type="checkbox" class="ingredient-check" value="{{ ingredient.name }}"> {{ ingredient.name }}
                </label>
                {% endfor %}
            </div>
        </div>

        <button id="calculate-btn" style="
            width: 100%;
            padding: 15px;
            margin-top: 30px;
            background-color: #4a9eff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        " onmouseover="this.style.backgroundColor='#3a8eef'" onmouseout="if(!this.disabled) this.style.backgroundColor='#4a9eff'">
            Calculate Potions
        </button>
    </div>

    <!-- Right Column: Results -->
    <div class="results-section scrollable" id="results-container">
        <h2 class="section-title">Potions (Sorted by Value)</h2>

        <div style="color: #888; text-align: center; padding: 40px;">
            <p>Configure your player stats and inventory, then click "Calculate Potions" to see results.</p>
        </div>
    </div>
</div>

{% load static %}
<script src="{% static 'calculator/js/calculator.js' %}"></script>
{% endblock %}
